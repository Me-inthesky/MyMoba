(function(){"use strict";var t={7458:function(t,e,s){var a=s(8935),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},i=[],r=s(1001),o={},n=(0,r.Z)(o,l,i,!1,null,null,null),c=n.exports,m=s(2809),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-container",{staticStyle:{height:"100vh"}},[s("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[s("el-menu",{attrs:{router:"","unique-opened":"","default-active":t.$route.path}},[s("el-submenu",{attrs:{index:"1"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-message"}),t._v("内容管理")]),s("el-menu-item-group",[s("template",{slot:"title"},[t._v("物品")]),s("el-menu-item",{attrs:{index:"/items/create"}},[t._v("新建物品")]),s("el-menu-item",{attrs:{index:"/items/list"}},[t._v("物品列表")])],2),s("el-menu-item-group",[s("template",{slot:"title"},[t._v("英雄")]),s("el-menu-item",{attrs:{index:"/heros/create"}},[t._v("新建英雄")]),s("el-menu-item",{attrs:{index:"/heros/list"}},[t._v("英雄列表")])],2),s("el-menu-item-group",[s("template",{slot:"title"},[t._v("文章")]),s("el-menu-item",{attrs:{index:"/articles/create"}},[t._v("新建文章")]),s("el-menu-item",{attrs:{index:"/articles/list"}},[t._v("文章列表")])],2)],2),s("el-submenu",{attrs:{index:"2"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-message"}),t._v("运营管理")]),s("el-menu-item-group",[s("template",{slot:"title"},[t._v("广告位")]),s("el-menu-item",{attrs:{index:"/ads/create"}},[t._v("新建广告位")]),s("el-menu-item",{attrs:{index:"/ads/list"}},[t._v("广告位列表")])],2)],2),s("el-submenu",{attrs:{index:"3"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-message"}),t._v("系统设置")]),s("el-menu-item-group",[s("template",{slot:"title"},[t._v("分类")]),s("el-menu-item",{attrs:{index:"/categories/create"}},[t._v("新建分类")]),s("el-menu-item",{attrs:{index:"/categories/list"}},[t._v("分类列表")])],2),s("el-menu-item-group",[s("template",{slot:"title"},[t._v("管理员")]),s("el-menu-item",{attrs:{index:"/admin_users/create"}},[t._v("新建管理员")]),s("el-menu-item",{attrs:{index:"/admin_users/list"}},[t._v("管理员列表")])],2)],2)],1)],1),s("el-container",[s("el-header",{staticStyle:{"text-align":"right","font-size":"12px"}},[s("el-dropdown",[s("i",{staticClass:"el-icon-setting",staticStyle:{"margin-right":"15px"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",[t._v("查看")]),s("el-dropdown-item",[t._v("新增")]),s("el-dropdown-item",[t._v("删除")])],1)],1),s("span",[t._v("王小虎")])],1),s("el-main",[s("router-view",{key:t.$route.path})],1)],1)],1)},d=[],p={data(){const t={date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"};return{tableData:Array(20).fill(t)}}},h=p,f=(0,r.Z)(h,u,d,!1,null,null,null),v=f.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-container"},[s("el-card",{staticClass:"login-card",attrs:{header:"请先登录"}},[s("el-form",{nativeOn:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[s("el-form-item",{attrs:{label:"用户名"}},[s("el-input",{model:{value:t.model.username,callback:function(e){t.$set(t.model,"username",e)},expression:"model.username"}})],1),s("el-form-item",{attrs:{label:"密码"}},[s("el-input",{attrs:{type:"password"},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("登录")])],1)],1)],1)],1)},g=[],_={data(){return{model:{}}},methods:{async login(){const t=await this.$http.post("login",this.model);localStorage.token=t.data.token,this.$router.push("/"),this.$message({type:"success",message:"登陆成功"})}}},y=_,$=(0,r.Z)(y,b,g,!1,null,null,null),x=$.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about"},[s("h1",[t._v(t._s(t.id?"编辑":"新建")+"分类")]),s("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[s("el-form-item",{attrs:{label:"上级分类"}},[s("el-select",{model:{value:t.model.parent,callback:function(e){t.$set(t.model,"parent",e)},expression:"model.parent"}},t._l(t.parents,(function(t){return s("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),s("el-form-item",{attrs:{label:"名称"}},[s("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},k=[],C={props:{id:{}},data(){return{model:{},parents:[]}},methods:{async save(){let t;t=this.id?await this.$http.put(`rest/categories/${this.id}`,this.model):await this.$http.post("rest/categories",this.model),this.$router.push("/categories/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get(`rest/categories/${this.id}`);this.model=t.data},async fetchParents(){const t=await this.$http.get("rest/categories");this.parents=t.data}},created(){this.fetchParents(),this.id&&this.fetch()}},S=C,T=(0,r.Z)(S,w,k,!1,null,null,null),E=T.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v("分类列表")]),s("el-table",{attrs:{data:t.items}},[s("el-table-column",{attrs:{prop:"_id",label:"ID",width:"240"}}),s("el-table-column",{attrs:{prop:"parent.name",label:"上级分类",width:"240"}}),s("el-table-column",{attrs:{prop:"name",label:"分类名称"}}),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return t.$router.push("/categories/edit/"+e.row._id)}}},[t._v("编辑")]),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return t.remove(e.row)}}},[t._v("删除")])]}}])})],1)],1)},z=[],Z={components:{},data(){return{items:[]}},methods:{async fetch(){const t=await this.$http.get("rest/categories");this.items=t.data},async remove(t){this.$confirm(`是否确定删除分类"${t.name}"`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$http.delete(`rest/categories/${t._id}`),this.$message({type:"success",message:"删除成功!"}),this.fetch()}))}},created(){this.fetch()}},D=Z,B=(0,r.Z)(D,O,z,!1,null,null,null),U=B.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about"},[s("h1",[t._v(t._s(t.id?"编辑":"新建")+"物品")]),s("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[s("el-form-item",{attrs:{label:"名称"}},[s("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),s("el-form-item",{attrs:{label:"图标"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.$http.defaults.baseURL+"/upload",headers:t.getAuthHeaders(),"show-file-list":!1,"on-success":t.afterUpload}},[t.model.icon?s("img",{staticClass:"avatar",attrs:{src:t.model.icon}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),s("el-form-item",[s("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},P=[],j={props:{id:{}},data(){return{model:{}}},methods:{async save(){let t;t=this.id?await this.$http.put(`rest/items/${this.id}`,this.model):await this.$http.post("rest/items",this.model),this.$router.push("/items/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get(`rest/items/${this.id}`);this.model=t.data},afterUpload(t){this.$set(this.model,"icon",t.url)}},created(){this.id&&this.fetch()}},I=j,H=(0,r.Z)(I,A,P,!1,null,null,null),R=H.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v("物品列表")]),s("el-table",{attrs:{data:t.items}},[s("el-table-column",{attrs:{prop:"_id",label:"ID",width:"240"}}),s("el-table-column",{attrs:{prop:"name",label:"物品名称"}}),s("el-table-column",{attrs:{prop:"icon",label:"图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[s("img",{staticStyle:{height:"3rem"},attrs:{src:t.row.icon,alt:""}})]}}])}),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return t.$router.push("/items/edit/"+e.row._id)}}},[t._v("编辑")]),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return t.remove(e.row)}}},[t._v("删除")])]}}])})],1)],1)},M=[],V={components:{},data(){return{items:[]}},methods:{async fetch(){const t=await this.$http.get("rest/items");this.items=t.data},async remove(t){this.$confirm(`是否确定删除分类"${t.name}"`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$http.delete(`rest/items/${t._id}`),this.$message({type:"success",message:"删除成功!"}),this.fetch()}))}},created(){this.fetch()}},q=V,F=(0,r.Z)(q,L,M,!1,null,null,null),N=F.exports,G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about"},[s("h1",[t._v(t._s(t.id?"编辑":"新建")+"英雄")]),s("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[s("el-tabs",{attrs:{type:"border-card"}},[s("el-tab-pane",{attrs:{label:"基本信息"}},[s("el-form-item",{attrs:{label:"名称"}},[s("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),s("el-form-item",{attrs:{label:"称号"}},[s("el-input",{model:{value:t.model.title,callback:function(e){t.$set(t.model,"title",e)},expression:"model.title"}})],1),s("el-form-item",{attrs:{label:"头像"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,headers:t.getAuthHeaders(),"show-file-list":!1,"on-success":function(e){return t.$set(t.model,"avatar",e.url)}}},[t.model.avatar?s("img",{staticClass:"avatar",attrs:{src:t.model.avatar}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),s("el-form-item",{attrs:{label:"背景图"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,headers:t.getAuthHeaders(),"show-file-list":!1,"on-success":function(e){return t.$set(t.model,"banner",e.url)}}},[t.model.banner?s("img",{staticClass:"avatar",attrs:{src:t.model.banner}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),s("el-form-item",{attrs:{label:"类型"}},[s("el-select",{attrs:{multiple:""},model:{value:t.model.categories,callback:function(e){t.$set(t.model,"categories",e)},expression:"model.categories"}},t._l(t.categories,(function(t){return s("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),s("el-form-item",{attrs:{label:"难度"}},[s("el-rate",{staticStyle:{"margin-top":"0.6rem"},attrs:{max:9,"show-score":""},model:{value:t.model.scores.difficult,callback:function(e){t.$set(t.model.scores,"difficult",e)},expression:"model.scores.difficult"}})],1),s("el-form-item",{attrs:{label:"技能"}},[s("el-rate",{staticStyle:{"margin-top":"0.6rem"},attrs:{max:9,"show-score":""},model:{value:t.model.scores.skills,callback:function(e){t.$set(t.model.scores,"skills",e)},expression:"model.scores.skills"}})],1),s("el-form-item",{attrs:{label:"攻击"}},[s("el-rate",{staticStyle:{"margin-top":"0.6rem"},attrs:{max:9,"show-score":""},model:{value:t.model.scores.attack,callback:function(e){t.$set(t.model.scores,"attack",e)},expression:"model.scores.attack"}})],1),s("el-form-item",{attrs:{label:"生存"}},[s("el-rate",{staticStyle:{"margin-top":"0.6rem"},attrs:{max:9,"show-score":""},model:{value:t.model.scores.survive,callback:function(e){t.$set(t.model.scores,"survive",e)},expression:"model.scores.survive"}})],1),s("el-form-item",{attrs:{label:"顺风出装"}},[s("el-select",{attrs:{multiple:""},model:{value:t.model.items1,callback:function(e){t.$set(t.model,"items1",e)},expression:"model.items1"}},t._l(t.items,(function(t){return s("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),s("el-form-item",{attrs:{label:"逆风出装"}},[s("el-select",{attrs:{multiple:""},model:{value:t.model.items2,callback:function(e){t.$set(t.model,"items2",e)},expression:"model.items2"}},t._l(t.items,(function(t){return s("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),s("el-form-item",{attrs:{label:"使用技巧"}},[s("el-input",{attrs:{type:"textarea"},model:{value:t.model.usageTips,callback:function(e){t.$set(t.model,"usageTips",e)},expression:"model.usageTips"}})],1),s("el-form-item",{attrs:{label:"对抗技巧"}},[s("el-input",{attrs:{type:"textarea"},model:{value:t.model.battleTips,callback:function(e){t.$set(t.model,"battleTips",e)},expression:"model.battleTips"}})],1),s("el-form-item",{attrs:{label:"团战思路"}},[s("el-input",{attrs:{type:"textarea"},model:{value:t.model.teamTips,callback:function(e){t.$set(t.model,"teamTips",e)},expression:"model.teamTips"}})],1)],1),s("el-tab-pane",{attrs:{label:"技能"}},[s("el-button",{attrs:{size:"small"},on:{click:function(e){return t.model.skills.push({})}}},[s("i",{staticClass:"el-icon-plus"}),t._v("添加技能")]),s("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},t._l(t.model.skills,(function(e,a){return s("el-col",{key:a,attrs:{md:12}},[s("el-form-item",{attrs:{label:"名称"}},[s("el-input",{model:{value:e.name,callback:function(s){t.$set(e,"name",s)},expression:"item.name"}})],1),s("el-form-item",{attrs:{label:"图标"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,headers:t.getAuthHeaders(),"show-file-list":!1,"on-success":function(s){return t.$set(e,"icon",s.url)}}},[e.icon?s("img",{staticClass:"avatar",attrs:{src:e.icon}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),s("el-form-item",{attrs:{label:"冷却值"}},[s("el-input",{model:{value:e.delay,callback:function(s){t.$set(e,"delay",s)},expression:"item.delay"}})],1),s("el-form-item",{attrs:{label:"消耗"}},[s("el-input",{model:{value:e.cost,callback:function(s){t.$set(e,"cost",s)},expression:"item.cost"}})],1),s("el-form-item",{attrs:{label:"描述"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.description,callback:function(s){t.$set(e,"description",s)},expression:"item.description"}})],1),s("el-form-item",{attrs:{label:"小提示"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.tips,callback:function(s){t.$set(e,"tips",s)},expression:"item.tips"}})],1),s("el-form-item",[s("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.model.skills.splice(a,1)}}},[t._v("删除")])],1)],1)})),1)],1),s("el-tab-pane",{attrs:{label:"最佳搭档"}},[s("el-button",{attrs:{size:"small"},on:{click:function(e){return t.model.partners.push({})}}},[s("i",{staticClass:"el-icon-plus"}),t._v("添加英雄")]),s("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},t._l(t.model.partners,(function(e,a){return s("el-col",{key:a,attrs:{md:12}},[s("el-form-item",{attrs:{label:"英雄"}},[s("el-select",{attrs:{filterable:""},model:{value:e.hero,callback:function(s){t.$set(e,"hero",s)},expression:"item.hero"}},t._l(t.heroes,(function(t){return s("el-option",{key:t._id,attrs:{value:t._id,label:t.name}})})),1)],1),s("el-form-item",{attrs:{label:"描述"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.description,callback:function(s){t.$set(e,"description",s)},expression:"item.description"}})],1),s("el-form-item",[s("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.model.partners.splice(a,1)}}},[t._v("删除")])],1)],1)})),1)],1)],1),s("el-form-item",{staticStyle:{"margin-top":"1rem"}},[s("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},J=[],K={props:{id:{}},data(){return{model:{avatar:"",name:"",scores:{difficult:0,skills:0,attack:0,survive:0},skills:[],partners:[]},categories:[],items:[],heroes:[]}},methods:{async save(){let t;t=this.id?await this.$http.put(`rest/heros/${this.id}`,this.model):await this.$http.post("rest/heros",this.model),this.$router.push("/heros/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get(`rest/heros/${this.id}`);this.model=Object.assign(this.model,t.data)},async fetchCategories(){const t=await this.$http.get("rest/categories");this.categories=t.data},async fetchItems(){const t=await this.$http.get("rest/items");this.items=t.data},async fetchHeroes(){const t=await this.$http.get("rest/heroes");this.heroes=t.data}},created(){this.fetchCategories(),this.fetchHeroes(),this.fetchItems(),this.id&&this.fetch()}},Q=K,W=(0,r.Z)(Q,G,J,!1,null,null,null),X=W.exports,Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v("英雄列表")]),s("el-table",{attrs:{data:t.items}},[s("el-table-column",{attrs:{prop:"_id",label:"ID",width:"240"}}),s("el-table-column",{attrs:{prop:"name",label:"英雄名称"}}),s("el-table-column",{attrs:{prop:"title",label:"称号"}}),s("el-table-column",{attrs:{prop:"avatar",label:"头像"},scopedSlots:t._u([{key:"default",fn:function(t){return[s("img",{staticStyle:{height:"3rem"},attrs:{src:t.row.avatar,alt:""}})]}}])}),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return t.$router.push("/heros/edit/"+e.row._id)}}},[t._v("编辑")]),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return t.remove(e.row)}}},[t._v("删除")])]}}])})],1)],1)},tt=[],et={components:{},data(){return{items:[]}},methods:{async fetch(){const t=await this.$http.get("rest/heros");this.items=t.data},async remove(t){this.$confirm(`是否确定删除分类"${t.name}"`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$http.delete(`rest/heros/${t._id}`),this.$message({type:"success",message:"删除成功!"}),this.fetch()}))}},created(){this.fetch()}},st=et,at=(0,r.Z)(st,Y,tt,!1,null,null,null),lt=at.exports,it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about"},[s("h1",[t._v(t._s(t.id?"编辑":"新建")+"文章")]),s("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[s("el-form-item",{attrs:{label:"所属分类"}},[s("el-select",{attrs:{multiple:""},model:{value:t.model.categories,callback:function(e){t.$set(t.model,"categories",e)},expression:"model.categories"}},t._l(t.categories,(function(t){return s("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),s("el-form-item",{attrs:{label:"标题"}},[s("el-input",{model:{value:t.model.title,callback:function(e){t.$set(t.model,"title",e)},expression:"model.title"}})],1),s("el-form-item",{attrs:{label:"详情"}},[s("vue-editor",{attrs:{useCustomImageHandler:""},on:{"image-added":t.handleImageAdded},model:{value:t.model.body,callback:function(e){t.$set(t.model,"body",e)},expression:"model.body"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},rt=[],ot=s(8898),nt={props:{id:{}},components:{VueEditor:ot.bR},data(){return{model:{},categories:[]}},methods:{async save(){let t;t=this.id?await this.$http.put(`rest/articles/${this.id}`,this.model):await this.$http.post("rest/articles",this.model),this.$router.push("/articles/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get(`rest/articles/${this.id}`);this.model=t.data},async fetchCategories(){const t=await this.$http.get("rest/categories");this.categories=t.data},async handleImageAdded(t,e,s,a){var l=new FormData;l.append("file",t);const i=await this.$http.post("upload",l);e.insertEmbed(s,"image",i.data.url),a()}},created(){this.fetchCategories(),this.id&&this.fetch()}},ct=nt,mt=(0,r.Z)(ct,it,rt,!1,null,null,null),ut=mt.exports,dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v("文章列表")]),s("el-table",{attrs:{data:t.items}},[s("el-table-column",{attrs:{prop:"_id",label:"ID",width:"240"}}),s("el-table-column",{attrs:{prop:"title",label:"标题"}}),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return t.$router.push("/articles/edit/"+e.row._id)}}},[t._v("编辑")]),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return t.remove(e.row)}}},[t._v("删除")])]}}])})],1)],1)},pt=[],ht={components:{},data(){return{items:[]}},methods:{async fetch(){const t=await this.$http.get("rest/articles");this.items=t.data},async remove(t){this.$confirm(`是否确定删除文章"${t.title}"`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$http.delete(`rest/articles/${t._id}`),this.$message({type:"success",message:"删除成功!"}),this.fetch()}))}},created(){this.fetch()}},ft=ht,vt=(0,r.Z)(ft,dt,pt,!1,null,null,null),bt=vt.exports,gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about"},[s("h1",[t._v(t._s(t.id?"编辑":"新建")+"广告位")]),s("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[s("el-form-item",{attrs:{label:"名称"}},[s("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),s("el-form-item",{attrs:{label:"广告"}},[s("el-button",{attrs:{size:"small"},on:{click:function(e){return t.model.items.push({})}}},[s("i",{staticClass:"el-icon-plus"}),t._v("添加广告")]),s("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},t._l(t.model.items,(function(e,a){return s("el-col",{key:a,attrs:{md:24}},[s("el-form-item",{attrs:{label:"跳转连接(URL)"}},[s("el-input",{model:{value:e.url,callback:function(s){t.$set(e,"url",s)},expression:"item.url"}})],1),s("el-form-item",{attrs:{label:"图片"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.$http.defaults.baseURL+"/upload","show-file-list":!1,"on-success":function(s){return t.$set(e,"image",s.url)}}},[e.image?s("img",{staticClass:"avatar",attrs:{src:e.image}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),s("el-form-item",[s("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.model.items.splice(a,1)}}},[t._v("删除")])],1)],1)})),1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},_t=[],yt={props:{id:{}},data(){return{model:{items:[]}}},methods:{async save(){let t;t=this.id?await this.$http.put(`rest/ads/${this.id}`,this.model):await this.$http.post("rest/ads",this.model),this.$router.push("/ads/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get(`rest/ads/${this.id}`);this.model=Object.assign(this.model,t.data)}},created(){this.id&&this.fetch()}},$t=yt,xt=(0,r.Z)($t,gt,_t,!1,null,null,null),wt=xt.exports,kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v("广告位列表")]),s("el-table",{attrs:{data:t.items}},[s("el-table-column",{attrs:{prop:"_id",label:"ID",width:"240"}}),s("el-table-column",{attrs:{prop:"name",label:"广告位名称"}}),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return t.$router.push("/ads/edit/"+e.row._id)}}},[t._v("编辑")]),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return t.remove(e.row)}}},[t._v("删除")])]}}])})],1)],1)},Ct=[],St={components:{},data(){return{items:[]}},methods:{async fetch(){const t=await this.$http.get("rest/ads");this.items=t.data},async remove(t){this.$confirm(`是否确定删除广告位"${t.name}"`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$http.delete(`rest/ads/${t._id}`),this.$message({type:"success",message:"删除成功!"}),this.fetch()}))}},created(){this.fetch()}},Tt=St,Et=(0,r.Z)(Tt,kt,Ct,!1,null,null,null),Ot=Et.exports,zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about"},[s("h1",[t._v(t._s(t.id?"编辑":"新建")+"管理员")]),s("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[s("el-form-item",{attrs:{label:"用户名"}},[s("el-input",{model:{value:t.model.username,callback:function(e){t.$set(t.model,"username",e)},expression:"model.username"}})],1),s("el-form-item",{attrs:{label:"密码"}},[s("el-input",{attrs:{type:"text"},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},Zt=[],Dt={props:{id:{}},data(){return{model:{}}},methods:{async save(){let t;t=this.id?await this.$http.put(`rest/admin_users/${this.id}`,this.model):await this.$http.post("rest/admin_users",this.model),this.$router.push("/admin_users/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get(`rest/admin_users/${this.id}`);this.model=t.data}},created(){this.id&&this.fetch()}},Bt=Dt,Ut=(0,r.Z)(Bt,zt,Zt,!1,null,null,null),At=Ut.exports,Pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v("管理员列表")]),s("el-table",{attrs:{data:t.items}},[s("el-table-column",{attrs:{prop:"_id",label:"ID",width:"240"}}),s("el-table-column",{attrs:{prop:"username",label:"用户名"}}),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return t.$router.push("/admin_users/edit/"+e.row._id)}}},[t._v("编辑")]),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return t.remove(e.row)}}},[t._v("删除")])]}}])})],1)],1)},jt=[],It={components:{},data(){return{items:[]}},methods:{async fetch(){const t=await this.$http.get("rest/admin_users");this.items=t.data},async remove(t){this.$confirm(`是否确定删除"${t.name}"`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$http.delete(`rest/admin_users/${t._id}`),this.$message({type:"success",message:"删除成功!"}),this.fetch()}))}},created(){this.fetch()}},Ht=It,Rt=(0,r.Z)(Ht,Pt,jt,!1,null,null,null),Lt=Rt.exports;a["default"].use(m.Z);const Mt=[{path:"/login",component:x,name:"login",meta:{isPublic:!0}},{path:"/",name:"main",component:v,children:[{path:"/categories/create",component:E},{path:"/categories/edit/:id",component:E,props:!0},{path:"/categories/list",component:U},{path:"/items/create",component:R},{path:"/items/edit/:id",component:R,props:!0},{path:"/items/list",component:N},{path:"/heros/create",component:X},{path:"/heros/edit/:id",component:X,props:!0},{path:"/heros/list",component:lt},{path:"/articles/create",component:ut},{path:"/articles/edit/:id",component:ut,props:!0},{path:"/articles/list",component:bt},{path:"/ads/create",component:wt},{path:"/ads/edit/:id",component:wt,props:!0},{path:"/ads/list",component:Ot},{path:"/admin_users/create",component:At},{path:"/admin_users/edit/:id",component:At,props:!0},{path:"/admin_users/list",component:Lt,props:Ot}]}],Vt=new m.Z({routes:Mt});Vt.beforeEach(((t,e,s)=>{if(console.log(t.meta),!t.meta.isPublic&&!localStorage.token)return s("/login");s()}));var qt=Vt,Ft=s(4549),Nt=s.n(Ft);a["default"].use(Nt());var Gt=s(6166),Jt=s.n(Gt);const Kt=new(Jt().create)({baseURL:{NODE_ENV:"production",BASE_URL:"/admin/"}.VUE_APP_API_URl||"/admin/api"});Kt.interceptors.request.use((t=>(localStorage.token&&(t.headers.Authorization="Bearer "+(localStorage.token||"")),t)),(t=>Promise.reject(t))),Kt.interceptors.response.use((t=>t),(t=>(console.log(t),t.response.data.message&&(a["default"].prototype.$message({message:t.response.data.message,type:"error"}),401==t.response.status&&qt.push("/login")),Promise.reject(t))));var Qt=Kt;a["default"].config.productionTip=!1,a["default"].prototype.$http=Qt,a["default"].mixin({methods:{getAuthHeaders(){return{Authorization:`Bearer ${localStorage.token||""}`}}},computed:{uploadUrl(){return this.$http.defaults.baseURL+"/upload"}}}),new a["default"]({router:qt,render:t=>t(c)}).$mount("#app")}},e={};function s(a){var l=e[a];if(void 0!==l)return l.exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,a,l,i){if(!a){var r=1/0;for(m=0;m<t.length;m++){a=t[m][0],l=t[m][1],i=t[m][2];for(var o=!0,n=0;n<a.length;n++)(!1&i||r>=i)&&Object.keys(s.O).every((function(t){return s.O[t](a[n])}))?a.splice(n--,1):(o=!1,i<r&&(r=i));if(o){t.splice(m--,1);var c=l();void 0!==c&&(e=c)}}return e}i=i||0;for(var m=t.length;m>0&&t[m-1][2]>i;m--)t[m]=t[m-1];t[m]=[a,l,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var l,i,r=a[0],o=a[1],n=a[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(l in o)s.o(o,l)&&(s.m[l]=o[l]);if(n)var m=n(s)}for(e&&e(a);c<r.length;c++)i=r[c],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(m)},a=self["webpackChunkadmin"]=self["webpackChunkadmin"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(7458)}));a=s.O(a)})();
//# sourceMappingURL=app.5844f4e0.js.map